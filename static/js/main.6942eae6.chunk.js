(this["webpackJsonpping-pong"]=this["webpackJsonpping-pong"]||[]).push([[0],{1:function(e){e.exports=JSON.parse('{"b":{"player":"Ludanto","reset":"Restarigi","wins":"Venkoj","history":"Historio","name":"Nomo","winningScore":"Gajnanta poentaron","alternateEvery":"Alterne \u0109iun","pingPong":"PingPong"},"a":{"player":"Player","reset":"Reset","wins":"Wins","history":"History","name":"Name","winningScore":"Winning score","alternateEvery":"Alternate every","pingPong":"PongPing"}}')},34:function(e,a,n){e.exports=n(64)},64:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),l=n(13),c=n.n(l),i=n(4),o=function(e){var a=e.score,n=e.handleIncrement,t=e.serving,l=e.number,c=e.winner,i=e.defaultLang,o=e.playerName;return e.gameStarted?r.a.createElement("div",{className:"col-md-6 mt-4 card text-center "+(t===l?"bg-dark text-white":null)},r.a.createElement("h5",{className:"card-header"},""!==o?o:"".concat(i.player," ").concat(l)),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text display-1"},a)),0!==c?null:r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"form-control btn btn-success",onClick:n},"+"))):null},u=n(31),m=n.n(u).a.create({baseURL:"http://ellieellie.restful.training/api/ping-pong",params:{key:"d72883032dcdbd70c81d333d50ed5580050b7842"},headers:{Accept:"application/json"}}),d=function(e){return function(a,n){var t=n().gameId;m.patch("/games/".concat(t,"/score"),{player:e}).then((function(e){var n=e.data;a(function(e){var a=e.player_1,n=e.player_2;return{type:"incrementPlayer",player1:a.score,player2:n.score,serve:a.serving?1:2,winner:a.won?1:n.won?2:0}}(n.data))}))}},s=function(){return function(e){m.get("/games").then((function(a){var n=a.data.data.filter((function(e){return e.complete})).map((function(e){return{player1Name:e.player_1.name,player2Name:e.player_2.name,winner:e.player_1.won?1:e.player_2.won?2:0,player1:e.player_1.score,player2:e.player_2.score,gameId:e.id}}));e(function(e){return{type:"loaded",previous:e}}(n))}))}},p=n(1),y=Object(i.b)((function(e){var a=e.player1,n=e.serve,t=e.winner,r=e.player1Name,l=e.gameStarted;return{score:a,number:1,serving:n,winner:t,defaultLang:e.defaultLang?p.a:p.b,playerName:r,gameStarted:l}}),(function(e){return{handleIncrement:function(){return e(d(1))}}}))(o),g=Object(i.b)((function(e){var a=e.player2,n=e.serve,t=e.winner,r=e.player2Name,l=e.gameStarted;return{score:a,number:2,serving:n,winner:t,defaultLang:e.defaultLang?p.a:p.b,playerName:r,gameStarted:l}}),(function(e){return{handleIncrement:function(){return e(d(2))}}}))(o),h=n(66),f=n(65),b=function(e){var a=e.handleClick,n=e.defaultLang,t=e.handleCheckUnfinished,l=e.checkedUnfinished,c=e.unfinished,i=e.handleChooseGame;return r.a.createElement("header",{className:"jumbotron mt-4 mb-0"},r.a.createElement("h1",null,n.pingPong),r.a.createElement(h.a,{onClick:t},"Check for unfinished games?"),r.a.createElement(f.a,null,r.a.createElement("tbody",null,l?c.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{key:"index"},r.a.createElement("td",{onClick:function(){return i(e)},style:{backgroundColor:"black",color:"white"}}," Game ",e.gameId,r.a.createElement("strong",null)),r.a.createElement("td",{style:{backgroundColor:"black",color:"white"}},r.a.createElement("strong",null,"Winning Score: ",e.winScore))),r.a.createElement("tr",null,r.a.createElement("td",null,e.player1Name),r.a.createElement("td",null,e.player2Name)),r.a.createElement("tr",null,r.a.createElement("td",null,e.player1),r.a.createElement("td",null,e.player2)))})):null)),r.a.createElement(h.a,{style:{margin:"0 auto"},variant:n===p.a?"danger":"primary",onClick:a},"English"),r.a.createElement(h.a,{variant:n===p.b?"danger":"primary",onClick:a},"Esperanto"))},v=Object(i.b)((function(e){return{defaultLang:e.defaultLang?p.a:p.b,gameId:e.gameId,checkedUnfinished:e.checkedUnfinished,unfinished:e.unfinished}}),(function(e){return{handleClick:function(){return e({type:"langToggle"})},handleCheckUnfinished:function(){return e((function(e){m.get("/games").then((function(a){var n=a.data.data.filter((function(e){return!e.complete}));n=n.map((function(e){return{player1Name:e.player_1.name,player2Name:e.player_2.name,winner:e.player_1.won?1:e.player_2.won?2:0,player1:e.player_1.score,player2:e.player_2.score,gameId:e.id,winScore:e.winning_score,serve:e.player_1.serving?1:2}})),e(function(e){return{type:"loadedUnfinished",unfinished:e}}(n))}))}))},handleChooseGame:function(a){return e(function(e){var a=e.gameId,n=e.player1Name,t=e.player1,r=e.player2,l=e.winScore;return{type:"chooseGame",gameId:a,player1Name:n,player1:t,player2:r,player2Name:e.player2Name,winScore:l,serve:e.serve,alternate:e.alternate}}(a))}}}))(b),E=function(e){var a=e.winner,n=e.handleReset,t=e.previous,l=e.defaultLang,c=e.player1Name,i=e.player2Name,o=e.handleDelete,u=e.handleLoad;return r.a.createElement(r.a.Fragment,null,a>0?r.a.createElement("h2",{className:"alert alert-success"},(1===a?c||"".concat(l.player," 1 "):i||"".concat(l.player," 2 "))+" ".concat(l.wins)):null,r.a.createElement("hr",null),r.a.createElement("button",{className:"btn btn-danger",onClick:n},l.reset),r.a.createElement("button",{className:"btn btn-primary",onClick:u}," Reload History"),r.a.createElement("hr",null),r.a.createElement("div",{className:"card"},r.a.createElement("h2",{style:{textAlign:"center"}},l.history),r.a.createElement(f.a,{striped:!0,bordered:!0,hover:!0,style:{magin:10}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"center"}},""!==c?c:"".concat(l.player," 1")),r.a.createElement("th",{style:{textAlign:"center"}},""!==i?i:"".concat(l.player," 2")))),r.a.createElement("tbody",null,t.map((function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{style:{backgroundColor:"black",color:"white"},key:a},r.a.createElement("td",null,e.player1Name),r.a.createElement("td",null,e.player2Name),r.a.createElement("td",null,"Delete game")),r.a.createElement("tr",{key:e.id},r.a.createElement("td",{style:{backgroundColor:1===e.winner?"lightgreen":"indianred"}},e.player1),r.a.createElement("td",{style:{backgroundColor:2===e.winner?"lightgreen":"indianred"}},e.player2),r.a.createElement("td",null,r.a.createElement("img",{id:e.id,src:"./delete.svg",alt:"delete icon",onClick:function(){return o(e.gameId)}}))))}))))))},N=Object(i.b)((function(e){return{player1:e.player1,player1Name:e.player1Name,player2:e.player2,player2Name:e.player2Name,winner:e.winner,previous:e.previous,defaultLang:e.defaultLang?p.a:p.b}}),(function(e){return{handleReset:function(){return e({type:"reset"})},handleDelete:function(a){return e((n=a,function(e){m.delete("/games/".concat(n)).then((function(){e({type:"deleted"})}))}));var n},handleLoad:function(){return e(s())}}}))(E),w=n(7),S=n(14),k=n(15),C=n(17),O=n(16),j=n(11),_=n(18),L=n(67),I=n(68),U=function(e){function a(e){var n;return Object(S.a)(this,a),(n=Object(C.a)(this,Object(O.a)(a).call(this,e))).state={player1Name:n.props.player1Name,player2Name:n.props.player2Name,winScore:n.props.winScore,alternate:n.props.alternate},n.handleName1Change=n.handleName1Change.bind(Object(j.a)(n)),n.handleName2Change=n.handleName2Change.bind(Object(j.a)(n)),n.handleWinScoreChange=n.handleWinScoreChange.bind(Object(j.a)(n)),n.handleAltChange=n.handleAltChange.bind(Object(j.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n}return Object(_.a)(a,e),Object(k.a)(a,[{key:"handleName1Change",value:function(e){this.setState({player1Name:e.currentTarget.value})}},{key:"handleName2Change",value:function(e){this.setState({player2Name:e.currentTarget.value})}},{key:"handleWinScoreChange",value:function(e){this.setState({winScore:e.currentTarget.value})}},{key:"handleAltChange",value:function(e){this.setState({alternate:e.currentTarget.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleSave(Object(w.a)({},this.state))}},{key:"render",value:function(){var e=this.state,a=e.player1Name,n=e.player2Name,t=e.winScore,l=e.alternate,c=this.props,i=c.defaultLang;return c.gameStarted?null:r.a.createElement("form",{onSubmit:this.handleSubmit,className:"card",style:{padding:20,margin:20}},r.a.createElement(L.a,null,r.a.createElement("label",null,i?"".concat(p.a.player," 1 ").concat(p.a.name):"".concat(p.b.player," 1 ").concat(p.b.name)),r.a.createElement(I.a,{type:"text",onChange:this.handleName1Change,value:a})),r.a.createElement(L.a,null,r.a.createElement("label",null,i?"".concat(p.a.player," 2 ").concat(p.a.name):"".concat(p.b.player," 2 ").concat(p.b.name)),r.a.createElement(I.a,{type:"text",onChange:this.handleName2Change,value:n})),r.a.createElement(L.a,null,r.a.createElement("label",null,i?p.a.winningScore:p.b.winningScore),r.a.createElement(I.a,{type:"number",onChange:this.handleWinScoreChange,value:t})),r.a.createElement(L.a,null,r.a.createElement("label",null,i?p.a.alternateEvery:p.b.alternateEvery),r.a.createElement(I.a,{type:"number",onChange:this.handleAltChange,value:l})),r.a.createElement(h.a,{type:"submit"},"Save Settings "))}}]),a}(t.Component),x=Object(i.b)((function(e){return{defaultLang:e.defaultLang?p.a:p.b,alternate:e.alternate,winScore:e.winScore,player1Name:e.player1Name,player2Name:e.player2Name,gameStarted:e.gameStarted}}),(function(e){return{handleSave:function(a){return e(function(e){var a=e.player1Name,n=e.player2Name,t=e.alternate,r=e.winScore;return function(e){m.post("/games",{player_1:a,player_2:n,winning_score:r,change_serve:t}).then((function(a){var n=a.data;e(function(e){var a=e.player_1,n=e.player_2,t=e.change_serve,r=e.winning_score,l=e.id;return{type:"saveSettings",player1Name:a.name,player2Name:n.name,alternate:t,winScore:r,gameId:l}}(n.data))}))}}(a))}}}))(U),P=function(e){function a(){return Object(S.a)(this,a),Object(C.a)(this,Object(O.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(k.a)(a,[{key:"componentDidMount",value:function(){this.props.loaded||this.props.handleLoad()}},{key:"render",value:function(){var e=this.props,a=e.children;return e.loaded?a:r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-bar progress-bar-striped active",style:{width:"100%"}})," ")}}]),a}(t.Component),A=Object(i.b)((function(e){return{loaded:e.loaded}}),(function(e){return{handleLoad:function(){return e(s())}}}))(P),T=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement(x,null),r.a.createElement(A,null,r.a.createElement("div",{className:"row md-6",style:{padding:15}},r.a.createElement(y,null),r.a.createElement(g,null))),r.a.createElement("hr",null),r.a.createElement(A,null,r.a.createElement(N,null)))},D=n(12),R=n(33),W={player1:0,player1Name:"",player2:0,player2Name:"",serve:0,winner:0,previous:[],defaultLang:!0,winScore:21,alternate:5,gameStarted:!1,gameId:1,loaded:!1,unfinished:[],checkedUnfinished:!1},G=function(e,a){switch(a.type){case"incrementPlayer":return function(e,a){var n=a.player1,t=a.player2,r=a.serve,l=a.winner;return Object(w.a)({},e,{player1:n,player2:t,serve:r,winner:l})}(e,a);case"reset":return function(e){var a=e.defaultLang,n=e.player1Name,t=e.loaded,r=e.player2Name,l=e.previous;return Object(w.a)({},W,{loaded:t,defaultLang:a,gameStarted:!1,player1Name:n,player2Name:r,previous:l,gameId:0})}(e);case"deleted":return function(e){return Object(w.a)({},e)}(e);case"loaded":return function(e,a){var n=a.previous;return Object(w.a)({},e,{previous:n,loaded:!0})}(e,a);case"loadedUnfinished":return function(e,a){var n=a.unfinished;return Object(w.a)({},e,{unfinished:n,loaded:!0,checkedUnfinished:!e.checkedUnfinished})}(e,a);case"chooseGame":return function(e,a){var n=a.gameId,t=a.player1,r=a.player2,l=a.player1Name,c=a.player2Name,i=a.winScore,o=a.alternate,u=a.serve;return Object(w.a)({},e,{gameId:n,player1Name:l,player1:t,player2:r,player2Name:c,winScore:i,alternate:o,serve:u,checkedUnfinished:!1,gameStarted:!0})}(e,a);case"langToggle":return function(e){return Object(w.a)({},e,{defaultLang:!e.defaultLang})}(e);case"saveSettings":return function(e,a){var n=a.player1Name,t=a.player2Name,r=a.alternate,l=a.winScore,c=a.gameId;return Object(w.a)({},e,{player1Name:n,player2Name:t,alternate:r,winScore:l,gameStarted:!0,gameId:c})}(e,a);default:return e}},F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.c,H=Object(D.d)(G,W,F(Object(D.a)(R.a)));c.a.render(r.a.createElement(i.a,{store:H},r.a.createElement(T,null),","),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.6942eae6.chunk.js.map